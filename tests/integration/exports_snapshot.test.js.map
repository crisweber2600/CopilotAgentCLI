{"version":3,"file":"exports_snapshot.test.js","sourceRoot":"","sources":["exports_snapshot.test.ts"],"names":[],"mappings":";;AAAA,mCAA8C;AAC9C,yCAAoC;AAEpC,wEAAoE;AAEpE,IAAA,iBAAQ,EAAC,4BAA4B,EAAE,GAAG,EAAE;IAC1C,IAAA,WAAE,EAAC,8BAA8B,EAAE,KAAK,IAAI,EAAE;QAC5C,MAAM,YAAY,GAAG,IAAA,mBAAO,EAAC,OAAO,CAAC,GAAG,EAAE,EAAE,WAAW,CAAC,CAAC;QACzD,MAAM,OAAO,GAAG,IAAI,gCAAc,CAAC,EAAE,YAAY,EAAE,CAAC,CAAC;QAErD,MAAM,QAAQ,GAAG,MAAM,OAAO,CAAC,sBAAsB,EAAE,CAAC;QACxD,MAAM,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAC5B,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,UAAU,KAAK,mCAAmC,CAClE,CAAC;QAEF,IAAA,eAAM,EAAC,QAAQ,CAAC,CAAC,WAAW,EAAE,CAAC;QAC/B,IAAA,eAAM,EAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,sBAAsB,CAAC,CAAC,CAAC,CAAC;IAClD,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import { describe, expect, it } from 'vitest';\nimport { resolve } from 'node:path';\n\nimport { MetricsService } from '../../src/services/metrics_service';\n\ndescribe('portfolio exports snapshot', () => {\n  it('aggregates work item metrics', async () => {\n    const artifactsDir = resolve(process.cwd(), 'artifacts');\n    const service = new MetricsService({ artifactsDir });\n\n    const snapshot = await service.buildPortfolioSnapshot();\n    const workItem = snapshot.find(\n      (item) => item.workItemId === 'work-item-001-create-a-structured',\n    );\n\n    expect(workItem).toBeDefined();\n    expect(workItem?.wip).toBeGreaterThanOrEqual(1);\n  });\n});\n"]}